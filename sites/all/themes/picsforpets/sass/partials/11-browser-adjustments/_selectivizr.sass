/**
 * Carousel functionality for a single Pet display.
 */

(function ($) {

Drupal.behaviors.dosomethingPicsforpetsCarousel = {
  attach: function (context, settings) {
    // Add the previous/next arrows.
    $('.picsforpets-animal-display').after('<div class="picsforpets-next"></div>');
    $('.picsforpets-animal-display').before('<div class="picsforpets-prev"></div>');

    // TODO: Possibly get any query parameters from filtering the gallery over to carry over here and pass to picsforpetsCarouselNeighbors for smarter ordering.

    // Add four neighbor images.
    var sid = 1; // TODO: This must be the real webform submission ID.
    var neighbors = picsforpetsCarouselNeighbors(sid);

    $('.picsforpets-animal-display').parent().before().before();
    $('.picsforpets-animal-display').parent().after().after();

    // Respond to arrow clicks with ajax.
  }
};


  function picsforpetsCarouselNeighbors(sid) {
    // TODO: Look up the 2 previous and 2 next pets using ajax to a special views display of the gallery.
    // Load them into neighbors[-1], neighbors[-2], neighbors[1], and neighbors[2] containing images.

  }
}(jQuery));
