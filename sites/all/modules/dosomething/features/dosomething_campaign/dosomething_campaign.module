<?php
/**
 * @file
 * Code for the Dosomething Campaign feature.
 */

include_once('dosomething_campaign.features.inc');

/**
 * Implements hook_node_validate().
 */
function dosomething_campaign_node_validate($node, $form, &$form_state) {
  if ($node->type == 'campaign') {
    /*
    // Validate that foreground and background values are valid hex values.
    if(!preg_match('/^[a-f0-9]{6}$/i', $node->field_campaign_background_color[$node->language][0]['value'])){
      form_set_error('field_campaign_background_color', t('@value is not a valid hex value', array('@value' => $node->field_campaign_background_color[$node->language][0]['value'])));
    }
    if(!preg_match('/^[a-f0-9]{6}$/i', $node->field_campaign_foreground_color[$node->language][0]['value'])){
      form_set_error('field_campaign_foreground_color', t('@value is not a valid hex value', array('@value' => $node->field_campaign_foreground_color[$node->language][0]['value'])));
    }
     */
  }
}

function dosomething_campaign_panelizer_defaults_alter(&$export) {
  module_load_include('inc', 'dosomething_campaign', 'dosomething_campaign.panelizer');
  $export = array_merge($export, dosomething_campaign_panelizer_defaults());
}
